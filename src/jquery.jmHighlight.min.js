/**
jmHighlight

Fork of
highlight v5

Highlights arbitrary terms.

<http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html>

MIT license.

Modified by julmot to allow custom css classes.
<https://github.com/julmot>

Johann Burkard
<http://johannburkard.de>
<mailto:jb@eaio.com>
*/
jQuery.fn.highlight=function(b,e){function f(c,b){var d=0;if(3==c.nodeType){var a=c.data.toUpperCase().indexOf(b),a=a-(c.data.substr(0,a).toUpperCase().length-c.data.substr(0,a).length);if(0<=a){d=document.createElement("span");d.className="string"===typeof e?e:"highlight";a=c.splitText(a);a.splitText(b.length);var g=a.cloneNode(!0);d.appendChild(g);a.parentNode.replaceChild(d,a);d=1}}else if(1==c.nodeType&&c.childNodes&&!/(script|style)/i.test(c.tagName))for(a=0;a<c.childNodes.length;++a)a+=f(c.childNodes[a], b);return d}return this.length&&b&&b.length?this.each(function(){f(this,b.toUpperCase())}):this};jQuery.fn.removeHighlight=function(b){return this.find("span."+("string"===typeof b?b:"highlight")).each(function(){this.parentNode.firstChild.nodeName;with(this.parentNode)replaceChild(this.firstChild,this),normalize()}).end()};
